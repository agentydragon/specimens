rationale: |-
  Duplicate digit-width logic exists: view.addLineNumbers uses a fixed 6-character width;
  renderer.renderCodeContent computes digits via getDigits. Extract a shared Digits helper in
  internal/format/lineno while keeping rendering differences (LLM vs human) separate.
should_flag: true
occurrences:
- occurrence_id: occ-0
  files:
    internal/llm/tools/view.go:
    - 258
    - 276
  note: |-
    addLineNumbers uses fixed 6-char padding via fmt.Sprintf("%6s", numStr). Consider Digits helper and minimal
    adaptation.
  critic_scopes_expected_to_recall:
  - - internal/llm/tools/view.go
  graders_match_only_if_reported_on:
  - internal/llm/tools/view.go
- occurrence_id: occ-1
  files:
    internal/tui/components/chat/messages/renderer.go:
    - 817
    - 883
  note: |-
    renderCodeContent uses getDigits dynamic digit counting; keep rendering behavior separate for UI but extract
    shared Digits helper.
  critic_scopes_expected_to_recall:
  - - internal/tui/components/chat/messages/renderer.go
  graders_match_only_if_reported_on:
  - internal/tui/components/chat/messages/renderer.go
