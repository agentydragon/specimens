rationale: |-
  Hardcoded timeouts, intervals, and numeric limits are scattered across subsystems (LSP client, diff runner,
  app, watcher, agent, sourcegraph). Name these values and centralize them (either as package-level consts or
  configurable options) to make tuning, consistency, and discovery easier. Where appropriate, consider making
  them configuration options (with safe defaults). Preserve local comments about semantics when migrating to
  named constants.
should_flag: true
occurrences:
- occurrence_id: occ-0
  files:
    internal/lsp/client.go:
    - - 241
      - 246
    - - 312
      - 318
    - - 316
      - 319
    - - 522
      - 526
  note: |-
    LSP client: Close() uses 5*time.Second; WaitForServerReady uses 30*time.Second and ticker
    500*time.Millisecond; maxFilesToOpen constant-like value 5. Define named consts like LSPStopTimeout,
    LSPWaitReadyTimeout, LSPReadyPollInterval, MaxFilesToOpen.
  expect_caught_from:
  - - internal/lsp/client.go
- occurrence_id: occ-1
  files:
    internal/diff/external.go:
    - 54
    - 63
  note: |-
    External diff runner uses context.WithTimeout(..., 2*time.Second). Define ExternalDiffTimeout = 2 *
    time.Second or make configurable via config.Diff.ExternalCommand timeout.
  expect_caught_from:
  - - internal/diff/external.go
- occurrence_id: occ-2
  files:
    internal/lsp/diagnostics_wait.go:
    - 24
    - 42
  note: |-
    Diagnostics wait loop uses 5s deadline and 100ms poll interval; name these constants (DiagnosticsWaitTimeout /
    DiagnosticsPollInterval).
  expect_caught_from:
  - - internal/lsp/diagnostics_wait.go
- occurrence_id: occ-3
  files:
    internal/app/lsp.go:
    - - 40
      - 46
    - - 118
      - 122
  note: |-
    App LSP init uses 30s init timeout; shutdown uses 5s shutdown timeout; name them LSPInitTimeout,
    LSPShutdownTimeout.
  expect_caught_from:
  - - internal/app/lsp.go
- occurrence_id: occ-4
  files:
    internal/app/app.go:
    - - 76
      - 81
    - - 304
      - 310
    - - 306
      - 312
  note: |-
    App-wide timers: middleware debounce 30ms; select/drop timeout 2s; slow-op threshold (100ms) and shutdown
    timeout (5s) should be named constants or config options.
  expect_caught_from:
  - - internal/app/app.go
- occurrence_id: occ-5
  files:
    internal/lsp/watcher/watcher.go:
    - - 64
      - 72
    - - 74
      - 80
    - - 86
      - 92
  note: |-
    Watcher defaults: debounceTime 300ms, default recursive max watched dirs 5000, default watch mode "recursive"
    — name these watcher defaults.
  expect_caught_from:
  - - internal/lsp/watcher/watcher.go
- occurrence_id: occ-6
  files:
    internal/llm/agent/sequence_transformer.go:
    - 1
    - 199
  note: |-
    Sequence transformer timing: overall deadline 1500ms; small sleep 50ms; per-call timeout 2500ms — name and
    centralize as AgentSequenceTimeouts.
  expect_caught_from:
  - - internal/llm/agent/sequence_transformer.go
- occurrence_id: occ-7
  files:
    internal/llm/agent/agent.go:
    - 1
    - 240
  note: 'Agent: 50ms delayed flush, 5s overall timeout, 200ms retry sleep — name these and consider DI/config.'
  expect_caught_from:
  - - internal/llm/agent/agent.go
- occurrence_id: occ-8
  files:
    internal/llm/tools/sourcegraph.go:
    - 1
    - 240
  note: 'Sourcegraph HTTP client timeouts: Timeout 30s, IdleConnTimeout 90s — name them and centralize.'
  expect_caught_from:
  - - internal/llm/tools/sourcegraph.go
