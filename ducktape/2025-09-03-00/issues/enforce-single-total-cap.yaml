rationale: |
  Current caps are applied per git output block (status / name-status / log / diff), so the assembled
  prompt can reach many√ó the nominal cap. Prefer a single accumulator-based total cap enforced over the
  fully assembled prompt, or track remaining bytes across calls to `_cap_append` to share the budget.

  This yields predictable size, avoids double work, and makes tradeoffs explicit between sections.
should_flag: true
occurrences:
- occurrence_id: occ-0
  files:
    llm/adgn_llm/src/adgn_llm/git_commit_ai/cli.py:
    - - 133
      - 137
    - - 154
      - 156
    - - 174
      - 176
    - - 194
      - 195
    - - 201
      - 205
  critic_scopes_expected_to_recall:
  - - llm/adgn_llm/src/adgn_llm/git_commit_ai/cli.py
