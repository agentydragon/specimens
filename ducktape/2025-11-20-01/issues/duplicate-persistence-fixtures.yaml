rationale: |
  Three test files duplicate SQLite persistence setup instead of using a shared
  fixture, causing verbose destructuring patterns and inconsistency.

  **Duplication locations:**
  - test_policy_validation_reload.py (lines 18-36): Returns tuple requiring
    destructuring in 7 tests (lines 41, 54, 68, 84, 105, 120, 131)
  - test_separated_servers.py (lines 31-38): Creates persistence in fixture
  - test_ui_auth.py (lines 20-27): Identical pattern to test_separated_servers

  **Existing good pattern:** persist/conftest.py (lines 19-29) has clean
  persistence fixture using `SQLitePersistence(tmp_path / "test.db")` +
  `ensure_schema()`. Should be promoted to tests/agent/conftest.py for reuse.

  **Fixes:**
  1. Create shared persistence fixture in tests/agent/conftest.py
  2. Split test_policy_validation_reload.py fixtures to avoid tuple destructuring
  3. Update mcp_bridge tests to use shared fixture
should_flag: true
occurrences:
- occurrence_id: occ-0
  files:
    adgn/tests/agent/mcp_bridge/test_separated_servers.py:
    - [31, 38]
    adgn/tests/agent/mcp_bridge/test_ui_auth.py:
    - [20, 27]
    adgn/tests/agent/test_policy_validation_reload.py:
    - - 18
      - 36
    - - 41
      - 41
    - - 54
      - 54
    - - 68
      - 68
    - - 84
      - 84
    - - 105
      - 105
    - - 120
      - 120
    - - 131
      - 131
  critic_scopes_expected_to_recall:
  - - adgn/tests/agent/test_policy_validation_reload.py
  - - adgn/tests/agent/mcp_bridge/test_separated_servers.py
  - - adgn/tests/agent/mcp_bridge/test_ui_auth.py
