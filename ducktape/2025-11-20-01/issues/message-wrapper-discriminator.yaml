rationale: |
  model.py input message types (AssistantMessage, UserMessage, SystemMessage lines
  26-53) embed the discriminator field (role) directly in the message class,
  mixing API-level concerns with content structure.

  Current inconsistency: input messages use "role" as discriminator, other input
  items use "type" (ReasoningItem, FunctionCallItem), output messages use "kind"
  (AssistantMessageOut line 172-182). This creates three different discriminator
  naming conventions.

  Separate message from discriminator using wrapper pattern: message class contains
  content only, wrapper class contains discriminator "kind" plus message. This
  matches the output pattern (AssistantMessageOut) and enables clearer type
  discrimination for union types (InputItem line 93).

  Benefits: Consistent discriminator naming, separates transport/API concerns from
  content structure, message content can evolve independently from serialization
  format.
should_flag: true
occurrences:
- occurrence_id: occ-0
  files:
    adgn/src/adgn/openai_utils/model.py:
    - - 26
      - 33
    - - 36
      - 43
    - - 46
      - 53
    - - 93
      - 93
    - - 172
      - 182
  expect_caught_from:
  - - adgn/src/adgn/openai_utils/model.py
