rationale: |
  Code uses assign-then-check pattern with `.scalar_one_or_none()` where walrus
  operator (:=) would be more concise.

  **Pattern:**
  ```python
  policy = result.scalar_one_or_none()
  if not policy:
      return None
  # use policy
  ```

  This assign-then-check pattern appears in multiple SQLAlchemy query methods.

  **Correct approach using walrus operator:**
  ```python
  if not (policy := result.scalar_one_or_none()):
      return None
  # use policy
  ```

  **Benefits:**
  - More concise (combines assignment and check)
  - Clearer scope (variable exists only where needed)
  - Standard Python 3.8+ idiom for "get and check" patterns
  - Reduces one-off temporary variables
should_flag: true
occurrences:
- occurrence_id: occ-0
  files:
    adgn/src/adgn/agent/persist/sqlite.py:
    - - 263
      - 264
    - - 401
      - 402
  expect_caught_from:
  - - adgn/src/adgn/agent/persist/sqlite.py
  only_matchable_from_files:
  - adgn/src/adgn/agent/persist/sqlite.py
