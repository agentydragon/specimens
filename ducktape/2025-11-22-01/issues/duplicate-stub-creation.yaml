rationale: |
  All 7 test functions in test_policy_validation_reload.py duplicate the same
  ApprovalPolicyAdminServerStub creation pattern: open Client context, create stub
  from server and session, call stub method.

  This pattern appears at lines 47, 57, 67, 84, 97, 109, 131. Violates DRY: harder to
  maintain (changes need 7 updates), more verbose (2-3 extra setup lines per test),
  less focused (setup obscures intent).

  Fix: create pytest fixture that returns connected stub via asynccontextmanager or
  function-scoped fixture with explicit cleanup. Eliminates 14+ duplicate lines.
should_flag: true
occurrences:
- occurrence_id: occ-0
  files:
    adgn/tests/agent/test_policy_validation_reload.py:
    - - 47
      - 48
    - - 57
      - 58
    - - 67
      - 68
    - - 84
      - 85
    - - 97
      - 98
    - - 109
      - 110
    - - 131
      - 132
  critic_scopes_expected_to_recall:
  - - adgn/tests/agent/test_policy_validation_reload.py
