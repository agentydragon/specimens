rationale: |
  Three functions build lists imperatively using `append()` in loops instead of list comprehensions.

  Lines 50-59 in agents.py define `_convert_pending_approvals()` that initializes empty list,
  loops over `pending_map.items()`, and appends `PendingApproval` objects. The function doesn't
  use `call_id`, so should iterate `.values()` directly.

  Lines 64-108 in approvals_bridge.py build `approvals_list` with two separate loops: lines 71-80
  append pending approvals, lines 99-108 append decided approvals (with conditional). Both should
  use comprehensions and combine via `pending_approvals + decided_approvals`.

  Lines 267-274 in runtime.py build `proposals` list with nested conditional and loop: checks
  persistence/agent_id, iterates rows, creates intermediate `pid`/`raw` vars, appends. Should use
  conditional expression with comprehension.

  Replace imperative `result = []; for x in items: result.append(transform(x))` pattern with
  comprehensions: `[transform(x) for x in items]`. This is more concise, Pythonic, immutable
  (no list mutation), and clearer intent.
should_flag: true
occurrences:
- occurrence_id: occ-0
  files:
    adgn/src/adgn/agent/mcp_bridge/servers/agents.py:
    - - 50
      - 59
    - - 52
      - 52
  note: _convert_pending_approvals() builds list with append loop
  expect_caught_from:
  - - adgn/src/adgn/agent/mcp_bridge/servers/agents.py
  only_matchable_from_files:
  - adgn/src/adgn/agent/mcp_bridge/servers/agents.py
- occurrence_id: occ-1
  files:
    adgn/src/adgn/agent/mcp_bridge/servers/approvals_bridge.py:
    - - 64
      - 65
    - - 71
      - 80
    - - 99
      - 108
  note: list_approvals() builds approvals_list with two append loops
  expect_caught_from:
  - - adgn/src/adgn/agent/mcp_bridge/servers/approvals_bridge.py
  only_matchable_from_files:
  - adgn/src/adgn/agent/mcp_bridge/servers/approvals_bridge.py
- occurrence_id: occ-2
  files:
    adgn/src/adgn/agent/server/runtime.py:
    - 267
    - 274
  note: proposals list built with nested conditional and loop
  expect_caught_from:
  - - adgn/src/adgn/agent/server/runtime.py
  only_matchable_from_files:
  - adgn/src/adgn/agent/server/runtime.py
