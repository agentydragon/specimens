rationale: |
  The `_build_host_config` function has unnecessary guards before setting Docker HostConfig fields. These guards
  make
  the
  code more complex without providing any benefit, as Docker accepts empty values or will treat "none" as a
  valid
  network
  mode.

  **Problem 1: Unnecessary guard for network_mode (lines 133-134)**
  ```python
  if opts.network_mode != "none":
      host_config["NetworkMode"] = opts.network_mode
  ```

  This guard prevents setting NetworkMode when it's "none", but:
  - Docker accepts "none" as a valid network mode (explicitly disables networking)
  - The default value for network_mode is "none" (line 55), so this guard prevents the default from being set
  - The condition looks scary/suspicious ("what breaks if we set 'none'?") without justification
  - Should always copy the value: `host_config["NetworkMode"] = opts.network_mode`

  **Problem 2: Unnecessary guard for binds (lines 129-130)**
  ```python
  if binds:
      host_config["Binds"] = binds
  ```

  This guard only sets Binds if the list is non-empty, but:
  - Docker accepts empty Binds arrays (equivalent to not setting it)
  - The guard adds complexity without benefit
  - Should always copy: `host_config["Binds"] = binds`

  **Why these guards are problematic:**
  - Add unnecessary branching and cognitive load
  - Make the code look suspicious (why guard against empty/default values?)
  - Don't provide any actual benefit (Docker handles these cases fine)
  - Inconsistent with AutoRemove handling (line 118-119, no guard)

  **Fix:**
  Remove both guards and always set the values:
  ```python
  # Remove the if binds: guard
  host_config["Binds"] = binds

  # Remove the if opts.network_mode != "none": guard
  host_config["NetworkMode"] = opts.network_mode
  ```
should_flag: true
occurrences:
- occurrence_id: occ-0
  files:
    adgn/src/adgn/mcp/_shared/container_session.py:
    - [125, 127]
  note: Unnecessary guard for network_mode - should always copy value
  critic_scopes_expected_to_recall:
  - - adgn/src/adgn/mcp/_shared/container_session.py
  graders_match_only_if_reported_on:
  - adgn/src/adgn/mcp/_shared/container_session.py
- occurrence_id: occ-1
  files:
    adgn/src/adgn/mcp/_shared/container_session.py:
    - [122, 123]
  note: Unnecessary guard for binds - should always copy list (even if empty)
  critic_scopes_expected_to_recall:
  - - adgn/src/adgn/mcp/_shared/container_session.py
  graders_match_only_if_reported_on:
  - adgn/src/adgn/mcp/_shared/container_session.py
