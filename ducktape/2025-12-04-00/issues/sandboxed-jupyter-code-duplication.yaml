rationale: |
  The sandboxed_jupyter module contains multiple instances of duplicated code that should be consolidated into
  shared
  implementations.
should_flag: true
occurrences:
- occurrence_id: occ-0
  files:
    adgn/src/adgn/mcp/sandboxed_jupyter/launch.py:
    - 22
    - 26
  note: Duplicate _pick_free_port function - canonical implementation exists in adgn.util.net.pick_free_port
  critic_scopes_expected_to_recall:
  - - adgn/src/adgn/mcp/sandboxed_jupyter/launch.py
  graders_match_only_if_reported_on:
  - adgn/src/adgn/mcp/sandboxed_jupyter/launch.py
- occurrence_id: occ-1
  files:
    adgn/src/adgn/mcp/sandboxed_jupyter/wrapper.py:
    - 193
    - 196
  note: Duplicate _pick_free_port function - canonical implementation exists in adgn.util.net.pick_free_port
  critic_scopes_expected_to_recall:
  - - adgn/src/adgn/mcp/sandboxed_jupyter/wrapper.py
  graders_match_only_if_reported_on:
  - adgn/src/adgn/mcp/sandboxed_jupyter/wrapper.py
- occurrence_id: occ-2
  files:
    adgn/src/adgn/mcp/sandboxed_jupyter/launch.py:
    - 29
    - 80
    adgn/src/adgn/mcp/sandboxed_jupyter/wrapper.py:
    - 199
    - 249
  note: Duplicate _start_jupyter_server implementations with nearly identical jupyter server command construction
  critic_scopes_expected_to_recall:
  - - adgn/src/adgn/mcp/sandboxed_jupyter/launch.py
    - adgn/src/adgn/mcp/sandboxed_jupyter/wrapper.py
  graders_match_only_if_reported_on:
  - adgn/src/adgn/mcp/sandboxed_jupyter/launch.py
  - adgn/src/adgn/mcp/sandboxed_jupyter/wrapper.py
- occurrence_id: occ-3
  files:
    adgn/src/adgn/mcp/sandboxed_jupyter/launch.py:
    - 142
    - 161
    adgn/src/adgn/mcp/sandboxed_jupyter/wrapper.py:
    - - 85
      - 93
    - - 305
      - 324
  note: Duplicate jupyter-mcp-server command construction in three places (Python and bash)
  critic_scopes_expected_to_recall:
  - - adgn/src/adgn/mcp/sandboxed_jupyter/launch.py
    - adgn/src/adgn/mcp/sandboxed_jupyter/wrapper.py
  graders_match_only_if_reported_on:
  - adgn/src/adgn/mcp/sandboxed_jupyter/launch.py
  - adgn/src/adgn/mcp/sandboxed_jupyter/wrapper.py
