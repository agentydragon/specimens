# TODO: untested

# Example dashboard cards for Indoor AQI integration
#
# This file contains examples of how to set up dashboard cards to display
# the indoor air quality information from the indoor_aqi integration.

# 1. Main IAQI card with bottleneck indication
- type: entities
  title: Indoor Air Quality
  entities:
    - entity: sensor.rais_room_aqi
      name: Overall IAQI
    - type: attribute
      entity: sensor.rais_room_aqi
      attribute: bottleneck_string
      name: Problem Areas

# 2. Component IAQI breakdown card
- type: entities
  title: Air Quality Components
  entities:
    - type: attribute
      entity: sensor.rais_room_aqi
      attribute: iaqi_co2
      name: CO₂ Quality
    - type: attribute
      entity: sensor.rais_room_aqi
      attribute: iaqi_pm25
      name: PM2.5 Quality
    - type: attribute
      entity: sensor.rais_room_aqi
      attribute: iaqi_voc
      name: VOC Quality

# 3. Raw values card
- type: entities
  title: Raw Pollutant Values
  entities:
    - type: attribute
      entity: sensor.rais_room_aqi
      attribute: raw_co2
      name: CO₂ (ppm)
    - type: attribute
      entity: sensor.rais_room_aqi
      attribute: raw_pm25
      name: PM2.5 (μg/m³)
    - type: attribute
      entity: sensor.rais_room_aqi
      attribute: raw_voc
      name: VOC (ppb)

# 4. Colored gauge for overall IAQI
- type: gauge
  entity: sensor.rais_room_aqi
  name: Indoor Air Quality
  min: 0
  max: 100
  severity:
    green: 80
    yellow: 60
    orange: 40
    red: 20
    purple: 0

# 5. Advanced card showing bottleneck with real-time values
- type: markdown
  title: Air Quality Status
  content: >
    {% set iaqi = states('sensor.rais_room_aqi') | float %}
    {% set level = state_attr('sensor.rais_room_aqi', 'level') %}
    {% set color = state_attr('sensor.rais_room_aqi', 'color') %}
    {% set bottlenecks = state_attr('sensor.rais_room_aqi', 'bottleneck_string') %}

    ## Overall: {{ level }} ({{ iaqi }})

    {% if bottlenecks %}
    ### Current bottlenecks:
    {{ bottlenecks }}
    {% else %}
    ### No bottlenecks detected
    {% endif %}
