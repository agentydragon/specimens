load("@rules_python//python:defs.bzl", "py_library")

# NOTE: No aggregator target - use specific per-file targets like :assertions, :matchers
# This is the Gazelle-compatible pattern (python_generation_mode = file)

py_library(
    name = "assertions",
    srcs = ["assertions.py"],
    imports = ["../.."],
    visibility = ["//:__subpackages__"],
    deps = [
        "//agent_core:agent",
        "//openai_utils:model",
        "@pypi//pydantic",
        "@pypi//pytest",
    ],
)

py_library(
    name = "matchers",
    srcs = ["matchers.py"],
    imports = ["../.."],
    visibility = ["//:__subpackages__"],
    deps = [
        "//agent_core:events",
        "//agent_core:tool_provider",
        "//openai_utils:model",
        "@pypi//pyhamcrest",
    ],
)
