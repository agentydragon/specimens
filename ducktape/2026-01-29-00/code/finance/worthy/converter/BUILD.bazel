load("@rules_rust//rust:defs.bzl", "rust_library")

rust_library(
    name = "alphavantage_converter",
    srcs = ["alphavantage_converter.rs"],
    edition = "2024",
    proc_macro_deps = [
        "@crates//:async-trait",
    ],
    visibility = ["//visibility:public"],
    deps = [
        "//finance/worthy:converter",
        "//finance/worthy:denomination",
        "//finance/worthy:exchange_rate",
        "@crates//:alphavantage",
        "@crates//:log",
        "@crates//:rust_decimal",
        "@crates//:serde",
    ],
)

rust_library(
    name = "currencylayer_converter",
    srcs = ["currencylayer_converter.rs"],
    edition = "2024",
    proc_macro_deps = [
        "@crates//:async-trait",
    ],
    visibility = ["//visibility:public"],
    deps = [
        "//finance/worthy:converter",
        "//finance/worthy:denomination",
        "//finance/worthy:exchange_rate",
        "@crates//:currency_layer",
        "@crates//:log",
        "@crates//:rust_decimal",
        "@crates//:rusty-money",
        "@crates//:serde",
    ],
)

rust_library(
    name = "fixer_converter",
    srcs = ["fixer_converter.rs"],
    edition = "2024",
    proc_macro_deps = [
        "@crates//:async-trait",
    ],
    visibility = ["//visibility:public"],
    deps = [
        "//finance/worthy:asset",
        "//finance/worthy:converter",
        "//finance/worthy:denomination",
        "//finance/worthy:exchange_rate",
        "@crates//:log",
        "@crates//:reqwest",
        "@crates//:rust_decimal",
        "@crates//:serde",
        "@crates//:url",
    ],
)
