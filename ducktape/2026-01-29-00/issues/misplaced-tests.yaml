rationale: |
  These test files live in agent_server/ but exclusively test code in mcp_infra/
  (exec servers, compositor rendering, resources server). Tests for package X
  should not live in package Y just because Y depends on X. They belong under
  mcp_infra/ alongside the code they exercise.
should_flag: true
occurrences:
  - occurrence_id: occ-0
    files:
      agent_server/test_exec_roundtrip.py:
        - [1, 83]
    note: "Tests mcp_infra/exec/docker.py ContainerExecServer"
    critic_scopes_expected_to_recall:
      - [agent_server/test_exec_roundtrip.py]

  - occurrence_id: occ-1
    files:
      agent_server/test_mcp_integration.py:
        - [1, 55]
    note: "Tests mcp_infra/exec/{direct,docker,subprocess}.py"
    critic_scopes_expected_to_recall:
      - [agent_server/test_mcp_integration.py]

  - occurrence_id: occ-2
    files:
      agent_server/test_mcp_resources_flow.py:
        - [1, 62]
    note: "Tests mcp_infra/compositor/resources_server.py"
    critic_scopes_expected_to_recall:
      - [agent_server/test_mcp_resources_flow.py]

  - occurrence_id: occ-3
    files:
      agent_server/test_rendering_instructions.py:
        - [1, 41]
    note: "Tests mcp_infra/compositor/rendering.py"
    critic_scopes_expected_to_recall:
      - [agent_server/test_rendering_instructions.py]

  - occurrence_id: occ-4
    files:
      agent_server/test_runtime_timeout.py:
        - [1, 50]
    note: "Tests mcp_infra/exec/docker.py timeout handling"
    critic_scopes_expected_to_recall:
      - [agent_server/test_runtime_timeout.py]
